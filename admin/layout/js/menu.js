$(document).ready(function(){		$('.submit_new_menu').click(function(e) {		var menu_name = $('input.new_menu').val();		if(menu_name==''){			$(".new_menu").notify('Vui lòng nhập tên trình đơn muốn tạo', { className: 'warning' });			event.preventDefault(e);		}else{			$.notify('Đang xử lý', { globalPosition: 'top right',className: 'success' } );			$.post( '?run=menu_ajax.php&action=add', { menu_name: menu_name })				.done(function( data ) {				$.notify('Đã tạo trình đơn mới', { globalPosition: 'top right',className: 'success' } );					setTimeout(function () {					var obj = jQuery.parseJSON(data);					var latest = obj.latest;					var id = latest.id;					window.location.href = '?run=menu.php&action=edit&id='+id+'&mes=add_success';				}, 1000);			});		}	});			$('.ajaxFormmenuEdit').ajaxForm(function(data) {		$.notify('Đang xử lý', { globalPosition: 'top right',className: 'success' } );		setTimeout(function () {			location.reload();		}, 1000);	});		$('.ajaxFormmenuLocation').ajaxForm(function(data) {		$.notify('Đã lưu lại vị trí trình đơn', { globalPosition: 'top right',className: 'success' } );	});		$('.ajaxFormmenuEditItem').ajaxForm(function(data) {				var obj = jQuery.parseJSON(data);		var id = obj.id;				$('.dd-option-panel').hide();		$('.dd-option').hide();				var menu_name = $('.dd-item[data-id='+id+'] input[name=menu_name]').val();				$('.dd-handle[data-id='+id+'] span').text(menu_name);				$.notify('Đã lưu lại', { globalPosition: 'top right',className: 'success' } );	});		$('.menu_select_choise select.choise_menu').change(function() {		var id = $(this).val();		if(id != '0'){			window.location.href = '?run=menu.php&action=edit&id='+id;		}	});		$('.delete_menu_btn').click(function() {		var r = confirm("Sau khi xóa bạn sẽ không thể phục hồi lại trình đơn, bạn có chắc không ?");		if (r == true) {			var id = $(this).attr('data-id');			$.post( '?run=menu_ajax.php&action=delete', { id: id })				.done(function( data ) {				$.notify('Đã xóa trình đơn', { globalPosition: 'top right',className: 'success' } );					window.location.href = '?run=menu.php';			});		}	});		$('.dd-remove-btn').click(function(){		var id = $(this).attr('data-id');		$.post( '?run=menu_ajax.php&action=delete_item', { id: id })			.done(function( data ) {			$.notify('Đã xóa', { globalPosition: 'top right',className: 'success' } );			setTimeout(function () {				location.reload();			}, 1000);		});	});		$('.dd-handle-btn').click(function() {				var id = $(this).attr('data-id');				$('.dd-option-panel[data-id!='+id+']').hide();		$('.dd-option[data-id!='+id+']').hide();				$('.dd-option-panel[data-id='+id+']').toggle();		$('.dd-option[data-id='+id+']').toggle();	});		$('.save-menu-order').click(function() {		$.notify('Đang xử lý', { globalPosition: 'top right',className: 'success' } );		var json = $('#nestable-output').val();		var id = $(this).attr('data-id');		$.post( '?run=menu_ajax.php&action=save_order&id='+id, { json: json })			.done(function( data ) {			$.notify('Đã lưu thứ tự sắp xếp', { globalPosition: 'top right',className: 'success' } );			});	});});